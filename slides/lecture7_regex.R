
## ------------------------------------------------------------------------
nchar("Markov chain Monte Carlo")


## ------------------------------------------------------------------------
paste("Markov", "chain", "Monte", "Carlo")
paste("Markov", "chain", "Monte", "Carlo", sep="-")
paste("Markov", "chain", "Monte", "Carlo", sep=".")


## ------------------------------------------------------------------------
i <- 8
(s <- sprintf("the square of %d is %d", i, i^2))


## ------------------------------------------------------------------------
sprintf("%.3f", pi)
sprintf("%1.0f", pi)
sprintf("%-10f", pi)
sprintf("%E", pi)
sprintf("%+f", pi)


## ------------------------------------------------------------------------
substr("biostatistics", 4, 7)


## ------------------------------------------------------------------------
x <- "The Titans could win this weekend."
substr(x, 12, 16) <- "won't"
x


## ------------------------------------------------------------------------
strsplit("6-16-2011",split="-")
strsplit("Markov chain Monte Carlo", " ")


## ------------------------------------------------------------------------
grep("test", c("foo", "bar", "test"))
grep("test", c("foo", "bar", "test"), value=TRUE)


## ------------------------------------------------------------------------
grep("foo.bar", c("fooxbar", "foo bar", "foobar", "foo12bar"))


## ------------------------------------------------------------------------
grep("foo..bar", c("fooxbar", "foo bar", "foobar", "foo12bar"))


## ------------------------------------------------------------------------
grep("foo.+bar", c("fooxbar", "foo bar", "foobar", "foo12bar"))
grep("bar+", c("bar", "barr", "barrrrrrrr", "ba"))


## ------------------------------------------------------------------------
grep("\\.", c("fooxbar", "foo bar", "foobar", "foo.bar"))


## ------------------------------------------------------------------------
grep("foo.*bar", c("fooxbar", "foo bar", "foobar", "foo12bar"))
grep("bar*", c("bar", "barr", "barrrr", "ba"))


## ------------------------------------------------------------------------
grep("abc?def", c("abdef", "abcdef", "abccdef"))


## ------------------------------------------------------------------------
grep("10{6}", c("1000", "1000000"))


## ------------------------------------------------------------------------
grep("10{2,4}1", c("101", "1001", "10001", "100001", "1000001"))


## ------------------------------------------------------------------------
grep("10{3}", c("100", "1000", "10000"))


## ------------------------------------------------------------------------
grep("10{3}$", c("100", "1000", "10000"))


## ------------------------------------------------------------------------
grep("10{3}", c("1000", "abc1000"))
grep("^10{3}", c("1000", "abc1000"))


## ------------------------------------------------------------------------
grep("^10{3}$", c("abc1000", "1000", "10000"))


## ------------------------------------------------------------------------
haart <- read.csv(file.path('..','datasets','haart.csv'))
grep('^init', names(haart), value=TRUE)


## ------------------------------------------------------------------------
head(haart[,grep('^init', names(haart), value=TRUE)])


## ------------------------------------------------------------------------
grep("ab[cdef]", c("abc", "abd", "abe", "abf", "abg"))


## ------------------------------------------------------------------------
grep("ab[c-f]", c("abc", "abd", "abe", "abf", "abg"))
grep("ab[c-fC-F]", c("abc", "abC", "abf", "abF", "abg"))
grep("ab[c-fC-F123]", c("abc", "abF", "ab1", "ab2"))


## ------------------------------------------------------------------------
electionDay <- c('2020-11-03', '2016-11-08', '12-11-06', '2008-11-4', '04-11-02')


## ------------------------------------------------------------------------
grep("[.+*]", c(".", "+", "*", "x"))
grep("[a-c-]", c("a", "b", "c", "-"))


## ------------------------------------------------------------------------
grep("[[:alpha:]]", c("----x----","--------","5456655"))
grep("[[:blank:]]", c("foo","bar","foo bar","foobar"))
grep("^[[:alpha:].]+@[[:alpha:].]+$",
    c("chris.fonnesbeck@vanderbilt.edu", "@fonnesbeck", "fonnesbeck_chris@yahoo.com"))


## ------------------------------------------------------------------------
tst <- c('one x7 two b1','three c5 four b9', 'five six seven','a8 eight nine')
wh <- regexpr('[a-z][0-9]', tst)
wh


## ------------------------------------------------------------------------
(wh1 = gregexpr('[a-z][0-9]',tst))


## ------------------------------------------------------------------------
res <- substring(tst, wh, wh + attr(wh,'match.length') - 1)
res


## ------------------------------------------------------------------------
res1 <- list()
for(i in 1:length(wh1)) {
    res1[[i]] <- substring(tst[i], wh1[[i]], wh1[[i]] + attr(wh1[[i]],'match.length')-1)
}
res1


## ------------------------------------------------------------------------
getexpr <- function(str, greg) substring(str, greg, greg + attr(greg,'match.length') - 1)


## ------------------------------------------------------------------------
mapply(getexpr, tst, wh1)


## ------------------------------------------------------------------------
text <- c("arm","leg","head", "foot","hand", "hindleg", "elbow")
gsub("h","H",text)
sub("o","O",text)


## ------------------------------------------------------------------------
gsub("^.","O",text)


## ------------------------------------------------------------------------
set.seed(11)
(x <- rnorm(5))
gsub("^[^.]*[.]([0-9]{2})([0-9]).*$", "\\2 \\1/100", x)


## ------------------------------------------------------------------------
electionDay


